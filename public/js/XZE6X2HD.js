function g(){window.addEventListener("DOMContentLoaded",()=>{let t=window.location.href;function e(r,o=""){t=t.replace(r,o)}e(".html"),e("index"),window.history.replaceState(null,"",t)})}function y(){g()}function p({canvas:t,ctx:e,columns:r,fontSize:o}){return t.width=t.offsetWidth,t.height=t.offsetHeight,e=t.getContext("2d"),e.fillStyle="#000",e.fillRect(0,0,t.width,t.height),r=Array(Math.floor(t.width/o)+1).fill(0),{ctx:e,columns:r}}function x({canvas:t,ctx:e,columns:r,fontSize:o}){setInterval(()=>{e.fillStyle="#0001",e.fillRect(0,0,t.width,t.height),e.fillStyle="#0f0",e.font=`${o}pt monospace`,r.forEach((n,u)=>{let v=String.fromCharCode(Math.random()*122);e.fillText(v,u*o,n);let A=100+Math.random()*1e4;n>A?r[u]=0:r[u]=n+o})},50)}var d=11,m=document.querySelector("#matrix"),a,l;async function S(){let t=p({canvas:m,ctx:a,columns:l,fontSize:d});a=t.ctx,l=t.columns,x({canvas:m,ctx:a,columns:l,fontSize:d}),window.addEventListener("resize",()=>{let e=p({canvas:m,ctx:a,columns:l,fontSize:d});a=e.ctx,l=e.columns})}var f={popup:"swal-popup",title:"swal-title",input:"swal-input",confirmButton:"swal-confirm",cancelButton:"swal-deny"},s={success:t=>Swal.fire({position:"top-end",icon:"success",iconColor:"chartreuse",title:t,showConfirmButton:!1,timer:1500,heightAuto:!1,customClass:f}),warning:t=>Swal.fire({icon:"warning",iconColor:"yellow",title:t,showConfirmButton:!0,heightAuto:!1,customClass:f}),error:t=>Swal.fire({icon:"error",iconColor:"red",title:t,showConfirmButton:!0,heightAuto:!1,customClass:f})};function C(t){Swal.fire({title:"Enter a password",input:"password",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonText:"Validar",showLoaderOnConfirm:!0,heightAuto:!1,customClass:theme,preConfirm:e=>{e.length>0?t(e):s.warning("Enter a password.").then(()=>{swal.pass(t)})},allowOutsideClick:()=>!Swal.isLoading()})}var i={pass:C,message:s};function c(t){return t.replace(/</g,"&#60;").replace(/>/g,"&#62;")}function E(t,e){let r;try{r=CryptoJS.AES.decrypt(c(t),e.toString(CryptoJS.enc.Hex),{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}).toString(CryptoJS.enc.Utf8)}catch{swal.message.error(messageError)}return r}function B(t,e){return CryptoJS.AES.encrypt(c(t),e.toString(CryptoJS.enc.Hex),{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}).toString()}var J=`The text is invalid, or the password is incorrect.
Please check the data and try again.`;function k(){let t=document.querySelector("main").querySelector("textarea");t.addEventListener("keydown",o=>{let n=t.value.charAt(t.value.length-1);(o.code==="Space"&&n===" "||o.code==="Enter"&&n===`
`)&&o.preventDefault()}),document.getElementById("encrypt").addEventListener("click",()=>{t.value.length>0?i.pass(o=>{t.value=B(t.value,o),i.message.success("Encrypted text!")}):i.message.warning("Enter a text to encrypt.")}),document.getElementById("decrypt").addEventListener("click",()=>{t.value.length>0?i.pass(o=>{let n=E(t.value,o);n?(t.value=n,i.message.success("Decrypted text!")):i.message.error(J)}):i.message.warning("Enter a text to decrypt.")})}var h=t=>document.querySelector(t);function w({item:t,url:e}){t.addEventListener("click",()=>window.location.href=e)}y();S();k();w({item:h("#img-oracle"),url:"https://www.oracle.com/mx/education/oracle-next-education"});w({item:h("#img-author"),url:"https://portfolio.stephenocka.com"});w({item:h("#img-github"),url:"https://github.com/StephenOcka/TextEncryptor"});
